query Test($lat:Float!, $lon: Float!){
    stopsByRadius(lat: $lat, lon: $lon, radius: 1500, feeds: ["HSL"]) {
        edges {
            node {
                ... on stopAtDistance {
                    stop {
                        lon
                        lat
                        name

                    }
                }
            }
        }
    }
}
query Stops($minLat:Float!, $minLon:Float!, $maxLat:Float!, $maxLon:Float!) {
    stopsByBbox(minLat: $minLat,
        minLon: $minLon,
        maxLat: $maxLat,
        maxLon: $maxLon) {
        gtfsId
        name
        lat
        lon
        zoneId
        vehicleMode
        stoptimesForPatterns {
            stoptimes {
                scheduledDeparture
                departureDelay
                serviceDay
                trip {
                    routeShortName
                    tripHeadsign
                    pattern {
                        route {
                            mode
                            color
                        }
                    }
                }
            }
        }
    }
}

subscription Transport(
    $minLat: Float!,
    $minLon: Float!,
    $maxLat: Float!,
    $maxLon: Float!) {
    transportEventsInArea(
        minLat: $minLat
        maxLat: $maxLat
        minLon: $minLon
        maxLon: $maxLon
    ) {
        lat
        lon
        routeNumber
        heading
        mode
        id
    }
}

