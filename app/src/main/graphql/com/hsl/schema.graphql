query Stops($minLat:Float!, $minLon:Float!, $maxLat:Float!, $maxLon:Float!) {
    stopsByBbox(minLat: $minLat,
        minLon: $minLon,
        maxLat: $maxLat,
        maxLon: $maxLon) {
        id
        gtfsId
        name
        lat
        lon
        zoneId
        vehicleMode
        stoptimesForPatterns {
            stoptimes {
                scheduledDeparture
                departureDelay
                serviceDay
                trip {
                    routeShortName
                    tripHeadsign
                    pattern {
                        route {
                            mode
                            color
                        }
                    }
                }
            }
        }
    }
}

subscription Transport(
    $minLat: Float!,
    $minLon: Float!,
    $maxLat: Float!,
    $maxLon: Float!) {
    transportEventsInArea(
        minLat: $minLat
        maxLat: $maxLat
        minLon: $minLon
        maxLon: $maxLon
    ) {
        lat
        lon
        routeNumber
        heading
        mode
        id
    }
}

